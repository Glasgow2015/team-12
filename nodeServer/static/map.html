<!DOCTYPE html>
<html>
  <head>
    <title>Dashboard - Map</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/bootstrap-theme.min.css">
    <link rel="stylesheet" href="css/main.css">
    <script type="text/javascript" src="js/l10n.js"></script>
    <script type="text/javascript" src="js/localizations.js"></script>
    <script type="text/javascript" src="js/bootstrap.min.js"></script>
    <script type="text/javascript" src="js/npm.js"></script>
  </head>
    <body class="homepage">

        <div id="wrapper">

    <div id="header">
      <nav class="navbar navbar-inverse">
        <div class="container-fluid">
          <div class="navbar-header">
            <a class="navbar-brand" href="#">Force Bee w/ U</a>
          </div>
        </div>
      </nav>
    </div>

    <div id="map"></div>
    <script type="text/javascript">

      var map;
      function initMap() {
        map = new google.maps.Map(document.getElementById('map'), {
          center: {lat: -6.10, lng: 35.10},
          zoom: 6
        });

        var markers = [];

        $.get("http://fbwu.rob4001.co.uk/api/map",
                function(data) {
                    data.forEach(function(element) {
                      var myLatLng = {lat: element.LAT, lng: element.LNG};
                      if (element.OBJTYPE == "HiveView") {
                        var colour = "blue";
                        var href = "http://www.fbwu.rob4001.co.uk/hive.html?id=" + element.ID;
                      } else {
                        var colour = "red";
                        var href = "http://www.fbwu.rob4001.co.uk/apiary.html?id=" + element.ID;
                      }
                      var marker = new google.maps.Marker({
                        map: map,
                        position: myLatLng,
                        title: 'Hello World!',
                        colour: colour,
                        url: href
                      });
                      markers.push(marker);
                    });
                }
        );

      }



    </script></div>
    <script async defer
            src="https://maps.googleapis.com/maps/api/js?key=AIzaSyD36tJba4NynYlOONKEH9oQdG-ociRRgWQ&callback=initMap">
    </script>
    </body>
</html>
             